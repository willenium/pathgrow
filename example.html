<!doctype html>
<!--[if lt IE 7 ]><html lang="en" class="ie6 ie no-js" xmlns:og="http://ogp.me/ns#"><![endif]-->
<!--[if IE 7 ]><html lang="en" class="ie7 ie no-js" xmlns:og="http://ogp.me/ns#"><![endif]-->
<!--[if IE 8 ]><html lang="en" class="ie8 ie no-js" xmlns:og="http://ogp.me/ns#"><![endif]-->
<!--[if IE 9 ]><html lang="en" class="ie9 ie no-js" xmlns:og="http://ogp.me/ns#"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js" xmlns:og="http://ogp.me/ns#"><!--<![endif]-->
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="keywords" content="svg, progressive path, pathGrow" />
	<meta name="description" content="Progressive path drawing in SVG" />
	
	<meta property="og:url" content="" />
	<meta property="og:type" content="" />
	<meta property="og:locale" content="" />
	<meta property="og:title" content="" />
	<meta property="og:image" content="" />
	<meta property="og:description" content=""/>

	<style>
		body {
			font-family: Verdana, Arial, sans-serif;
		}

		.wrapper {
			margin: 3em;
		}

		button {
			cursor: pointer;
		}
	</style>

	<title>Progressive path drawing in SVG</title>
</head>
<body>

	<div class="wrapper">
		<h1>A progressively drawn path in SVG</h1>
		<p>Dependency: A tween script/library</p>

		<div id="svg-container">
			<button id="start">Start snakes</button>
			<button id="reset">Reset snakes</button>

			<!-- ANIMATING SNAKES -->
			<!-- Silverstone circuit -->
			<h2>Silverstone circuit, England UK</h2>
			<p>Basic animation with single path and default settings</p>
			<svg id="silverstone" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="350px" height="250px" viewBox="0 0 350 250" enable-background="new 0 0 350 250" xml:space="preserve">
				<path fill="none" stroke="#000000" stroke-width="10" stroke-linejoin="round" d="M19.065,130.359c-3.038-12.006-4.533-20.715-6.882-32.937c-0.73-3.797,0.882-8.444,2.022-10.322c1.853-3.051,6.397-7.503,9.509-9.353c9.034-5.368,16.34-8.106,26.345-11.643c8.622-3.047,18.177-5.326,27.624-6.774c7.886-1.209,16.685-1.66,24.292-4.163c5.771-1.898,10.113-5.374,14.529-9.259c1.764-1.552,5.398-3.174,9.234-2.157c4.058,1.075,8.406,2.208,12.674,2.904c3.83,0.625,7.938,1.08,11.544,0.253c3.698-0.846,6.378-3.367,9.496-5.781c2.339-1.811,3.236-4.645,7.021-6.018c3.388-1.229,6.02-1.316,8.832-0.854c2.556,0.419,5.076,1.632,6.982,3.568c3.814,3.874,6.438,9.071,10.472,12.691c3.712,3.333,8.501,5.784,13.274,7.511c27.226,9.85,54.971,19.572,82.354,30.028c14.335,5.474,28.187,11.337,41.636,18.274c3.273,1.689,6.682,4.96,8.095,8.186c1.403,3.199,1.482,7.66,0.646,11.09c-0.837,3.435-3.192,6.631-5.882,9.068c-4.792,4.34-13.324,7.004-17.511,12.066c-9.493,11.475-18.379,21.552-29.148,33.355c-2.744,3.008-1.482,5.461-0.257,6.477c2.064,1.711,4.999,3.111,5.943,5.291c1.345,3.102,1.677,7.18,0.046,10.844c-1.566,3.514-4.546,7.113-8.057,8.978c-3.619,1.921-8.605,2.99-12.675,2.376c-5.261-0.794-10.421-3.971-15.314-6.602c-24.416-13.124-48.16-27.827-72.611-40.662c-2.041-1.071-6.959-1.706-8.981,1.57c-1.788,2.896-4.158,8.832-11.076,10.732c-6.765,1.857-27.218,6.29-28.263,6.443c-3.464,0.512-12.353,1.517-15.314,0.265c-2.899-1.226-9.936-9.443-14.191-14.224c-4.289-4.816-7.249-9.053-12.001-12.125c-2.464-1.593-8.945-1.782-11.256,0.102c-5.913,4.818-12.006,10.459-17.534,16.186c-1.792,1.855-1.944,5.57-0.702,7.455c1.31,1.988,4.497,3.4,7.337,3.287c4.023-0.16,8.69-0.422,12.702-0.416c2.325,0.004,4.972,1.875,6.337,3.697c1.539,2.051,2.675,5.396,2.376,7.92c-0.317,2.67-2.333,5.631-4.589,6.855c-2.937,1.593-7.437,1.08-10.989-0.012c-9.777-2.998-19.705-5.672-28.517-10.669c-5.623-3.188-14.345-8.759-16.391-14.763C26.794,163.109,23.421,147.574,19.065,130.359z"/>
			</svg>

			<!-- Circuitpark Zandvoort - with target group id and separate paths -->
			<h2>Circuitpark Zandvoort, The Netherlands</h2>
			<p>With paths in group (#circuit) as target and separate paths</p>
			<svg id="zandvoort" width="350px" height="340px" viewBox="100 30 350 340" version="1.1" xmlns="http://www.w3.org/2000/svg">
				<defs>
					<linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
						<stop offset="0%" style="stop-color:rgb(255,255,0);stop-opacity:0.6" />
						<stop offset="100%" style="stop-color:rgb(255,0,0);stop-opacity:1" />
					</linearGradient>
				</defs>
				<g id="circuit">
					<path fill="none" d="M223.436,171.126c5.178,10.354,11.056,20.539,17.968,29.812c10.24,13.732,21.709,26.738,33.486,39.204
					c6.872,7.271,13.865,11.95,21.133,18.784c4.61,4.333,2.925,6.557,1.328,8.576c-1.598,2.019-6.126,7.759-6.126,9.8
					c0,2.042,0.067,8.031,2.858,10.618c2.736,2.535,10.301,4.924,13.987,2.654c23.062-14.197,47.581-29.397,71.568-44.615
					c3.629-2.303,9.962-3.647,14.086-3.369c3.905,0.266,8.871,2.481,11.231,5.513c5.265,6.769,8.504,15.341,11.639,23.89
					c2.855,7.786,4.865,16.212,5.411,24.299c0.407,6.07-0.96,12.55-3.369,18.172c-2.491,5.812-6.296,11.452-11.129,15.416
					c-5.784,4.747-19.63,10.93-27.258,11.026"/>
					<path fill="none" d="M230.379,212.371c-1.213-5.227-3.006-10.546-5.718-15.111c-2.869-4.829-6.974-9.094-11.025-13.068
					c-4.625-5.235-6.173-5.657-11.772-10.911c-3.668-2.937-7.283-5.615-11.978-9.021c-1.916-1.39-9.603-6.7-13.617-14.473
					c-7.705-14.917-11.569-28.536-17.356-45.227c-1.292-3.727-1.589-7.952-1.225-11.842c0.452-4.822,1.405-10.087,3.675-14.293
					c2.358-4.369,6.103-8.65,10.005-11.842c3.584-2.934,8.038-5.43,12.455-6.534c5.383-1.345,11.541-1.298,17.152-0.409
					c14.126,2.241,22.004,6.002,36.243,7.862c9.566,1.249,22.562,2.02,32.058,2.96c3.043,0.302,9.522,4.084,10.923,6.738
					c3.773,7.146,6.622,15.858,7.76,24.093c1.175,8.508,0.553,17.579-1.634,25.932c-1.332,5.094-2.27,10.699-5.104,14.702
					c-1.793,2.531-4.965,3.857-8.065,3.982c-3.706,0.148-8.726-2.532-11.536-5.105c-5.222-4.779-8.702-9.703-12.456-15.824
					c-5.081-8.283-10.786-16.693-17.561-23.277c-2.89-2.809-7.543-4.618-11.434-4.9c-3.596-0.262-8.132,1.131-11.026,3.267
					c-2.823,2.084-5.355,5.86-5.615,9.394c-0.414,5.624,0.272,11.805,2.144,17.458c4.934,14.901,10.69,30.058,17.764,44.206"/>
					<path fill="none" d="M380.249,340.906c-57.855,0.73-94.738-0.356-123.327-0.306l0,0c-34.712,0.062-69.323,0.918-104.032,0.918
					c-3.95,0-8.244-0.037-11.945-0.918c-2.017-0.479-4.031-2.024-5.309-3.676c-1.989-2.569-3.853-5.865-4.493-8.985
					c-0.449-2.188,0.209-4.907,1.225-6.941c1.298-2.595,3.31-5.381,5.718-6.942c2.628-1.706,6.147-2.73,9.393-2.858
					c13.906-0.551,28.111,1.322,42.063,0.817c4.833-0.176,9.638-1.507,14.293-2.859c7.052-2.05,13.781-5.365,20.827-7.349
					c2.619-0.738,5.5-1.047,8.168-0.818c2.097,0.18,4.599,0.582,6.125,2.041c7.731,7.389,14.003,16.861,21.644,24.502
					c1.752,1.753,4.18,2.789,6.535,3.063c3.5,0.407,7.273-0.076,9.8-2.042c2.374-1.845,4.759-5.485,4.9-8.779
					c0.129-2.968-1.017-6.475-2.858-8.985c-10.138-13.823-23.44-25.841-33.078-40.018c-4.52-6.651-7.322-14.668-9.393-22.462
					c-3.102-11.671-3.39-24.146-6.125-35.937"/>
				</g>
			</svg>

			<!-- Nordschleife -->
			<h2>Nordschleife, Germany</h2>
			<p>One path, masked with an image with callback function to fill the path. <br/>Example image: <a href="http://www.flickr.com/photos/behindthesteeringwheel/">Paul D'Ambra</a></p>
			<svg id="nordschleife" width="450px" height="300px" viewBox="0 0 810 610" version="1.1" xmlns="http://www.w3.org/2000/svg">
				<path id="circuit2" fill="url(#mask)" fill-opacity="0" d="m 320.31415,536.50738 c -4.2711,-6.46997 -3.2004,-8.08172 -7.9205,-8.39255 -2.1874,-0.13815 -4.8813,0.0345 -7.8515,5.35327 -1.6233,2.93567 -3.3156,5.21513 -5.7677,7.40249 -4.8468,4.31716 -9.9813,7.88601 -16.3016,7.86298 -6.5851,-0.0115 -8.7149,-3.3386 -16.4973,-5.81377 -5.3303,-1.69233 -14.6668,-2.10677 -17.6485,-0.70226 -2.3946,1.13973 -2.0032,1.3009 -3.8912,1.54266 -2.4176,0.29933 -4.6626,-1.05914 -6.4355,-2.95868 -2.7399,-2.92416 -3.9027,-5.01942 -6.562,-8.50768 -1.9341,-2.53274 -5.1346,-4.12145 -6.8499,-7.08014 -1.1513,-1.99164 -0.7138,-3.05079 -3.3617,-5.08849 -1.8765,-1.42754 -9.9812,-1.28939 -15.4151,-3.18893 -4.202,-1.45057 -3.8221,-7.03409 -6.6196,-11.33974 -2.7515,-4.22505 -16.8657,-12.59458 -24.9244,-19.36388 -9.5668,-10.03882 -9.9698,-11.05192 -13.8149,-15.35757 -3.8567,-4.31715 -7.1953,-7.64424 -10.2806,-11.92686 -2.1298,-2.95869 -4.133,-7.33341 -3.5458,-12.41039 1.3009,-11.21309 7.6788,-20.19277 7.7939,-32.94853 0.081,-8.74943 0.7138,-12.76727 -1.2894,-27.1693 -0.8174,-5.82529 -2.7975,-9.78556 -4.9619,-15.24244 -5.0079,-12.56005 -10.6605,-24.9359 -17.2456,-37.09301 -2.4751,-4.55892 -6.067,-8.09322 -10.1655,-10.51084 -4.605,-2.71693 -10.2,-4.98487 -15.3575,-7.56365 -2.5903,-1.2894 -3.7991,-4.27111 -3.3041,-6.84989 0.9901,-5.1 8.2429,-5.4684 16.7736,-9.44018 10.3612,-4.83522 14.9432,-7.63274 20.7915,-12.76727 7.2413,-6.35486 13.6997,-10.74109 20.7914,-17.59098 4.9388,-4.77765 9.1869,-7.78239 13.1126,-15.59932 2.1989,-4.38623 3.7416,-8.01264 4.9504,-13.11265 1.7729,-7.43701 0.1611,-13.95304 1.3009,-17.94785 1.3699,-4.78917 6.7923,-5.62957 7.5636,-9.22145 0.7138,-3.30406 -3.281,-7.20677 -1.416,-12.04198 1.1397,-2.97021 8.7149,-6.88443 14.1718,-11.69662 4.3632,-3.84515 3.7761,-4.76614 8.0357,-9.32506 8.1392,-8.74944 8.7148,-7.47155 17.4758,-17.37224 3.661,-4.13295 6.2628,-7.886 7.3334,-13.11264 1.3815,-6.79232 -1.7729,-12.87088 -4.1445,-18.30474 -0.7598,-1.7614 -2.1182,-2.83205 -4.3632,-3.66095 -1.888,-0.69074 -4.9273,0.23025 -6.9765,-0.58713 -3.5343,-1.42754 -5.6641,-2.4982 -8.9682,-5.08849 -4.0869,-3.18894 -5.8368,-6.02099 -6.0325,-8.49616 -0.2302,-3.07382 1.6118,-4.17901 3.9027,-5.20362 5.0655,-2.26794 12.4219,-6.40089 17.6025,-11.696605 2.9127,-2.97021 1.4621,-6.74628 3.0738,-10.74108 0.898,-2.25644 2.9012,-5.95192 5.549,-8.50768 3.7761,-3.66095 9.1754,-5.57201 15.703,-2.60181 6.7347,3.07381 12.2952,6.50452 18.7882,12.52551 1.7844,1.64627 1.1282,6.87292 4.8352,6.73477 4.9274,-0.19571 2.4176,-3.4192 7.5637,-5.90587 8.1163,-3.92574 19.1222,-4.3517 27.2844,-2.24492 3.8221,0.94401 8.2774,3.20044 12.1686,2.59029 5.054,-0.78284 6.896,-4.99639 7.3219,-6.96501 0.9901,-4.48985 -0.1496,-11.06344 2.3601,-14.28692 2.5788,-3.30406 3.8452,-5.07697 19.9741,-10.28059 15.2884,-4.93882 20.7914,-2.11828 28.7004,-5.20361 9.0257,-3.5228 16.244,-14.851015 23.2666,-14.402031 3.707,0.230249 7.2298,2.17585 7.9206,6.493003 1.2318,7.782398 -0.6563,15.461178 -0.7138,22.564338 -0.1152,15.9447 4.4898,24.87834 7.6787,28.34358 6.2858,6.838375 12.9861,10.925265 20.6648,14.528655 5.7908,2.71694 10.3958,5.33025 18.4314,5.43386 15.1734,0.20723 26.6973,0.11512 38.2673,2.71693 7.483,1.68081 15.1734,3.59188 21.5052,7.92054 4.8467,3.30407 7.4946,6.44696 12.1686,9.32506 8.6228,5.31874 14.8395,7.7824 21.9657,6.73477 5.618,-0.81739 13.5846,-6.05554 19.6057,-11.09797 5.0885,-4.2596 9.7395,-10.7526 16.3015,-12.16863 9.8086,-2.12979 14.6323,-0.87494 21.1483,-3.54583 5.7677,-2.37155 8.6919,-2.4176 10.2806,-0.94401 4.0754,3.76456 1.0707,8.02415 -1.7729,10.15395 -6.6197,4.96185 -17.7982,13.97607 -21.0332,14.77043 -7.7709,1.91106 -6.2857,8.4386 -4.5589,10.15396 4.0409,3.9948 10.1309,1.1167 10.9138,-1.80745 0.5756,-2.17585 2.2449,-3.54583 5.5489,-5.90587 3.7761,-2.70542 7.7249,-4.78917 14.8856,-7.3219 3.1083,-1.10519 5.1921,-2.2219 13.5847,-3.18894 6.0555,-0.70226 12.2261,-8.58826 17.119,-15.61084 6.3087,-9.02574 0.3798,-10.5684 1.8074,-15.772005 1.1858,-4.32867 2.3485,-8.807 7.909,-12.64064 4.8352,-3.32708 30.2662,5.21513 32.1312,6.37788 4.5013,2.7745 6.6887,8.104755 10.8677,10.038835 4.8467,2.24492 6.8268,2.27946 10.8677,4.13295 2.8321,1.3009 11.7081,14.03364 11.8117,17.48736 0.1843,5.68714 -9.6243,21.24041 -3.776,26.34041 5.169,4.50135 6.6887,3.22348 12.5255,6.13612 4.0063,2.01467 4.0063,8.51919 4.2481,12.99752 0.2302,4.37472 0.1151,10.15395 -3.4307,12.0535 -7.0801,3.77608 -16.6815,-2.01468 -24.6826,0.23025 -4.2597,1.19728 -2.8321,6.73476 -8.1509,13.46953 -6.1821,7.81692 -9.0947,16.52032 -9.0947,21.37855 0,7.20678 0.7022,16.41671 0.1151,22.92123 -0.3108,3.48825 -2.291,7.40247 -5.4339,8.96816 -5.1921,2.60181 -10.0964,2.14131 -14.4135,5.20362 -4.605,3.26953 -7.3219,6.88443 -11.57,11.56998 -4.1445,4.57043 -4.8582,7.28736 -7.4486,12.88239 -2.2334,4.83522 -4.1329,6.84989 -6.7232,9.9237 -2.314,2.71694 -5.8944,4.04086 -8.8646,6.021 -2.832,1.88804 -5.3993,5.0079 -10.1539,6.26276 -12.9054,3.38464 -25.0971,8.92212 -37.4499,9.79706 -8.1277,0.58714 -10.8677,-9.56682 -18.9034,-9.4517 -3.3501,0.0575 -6.5621,1.86502 -9.4402,3.90272 -4.9043,3.46524 -9.82,5.80226 -9.4517,9.9237 1.1858,13.11264 25.6267,12.28375 32.1312,22.4377 2.1183,3.32709 5.2497,8.05869 4.72,16.07133 -0.2877,4.37472 -3.8221,8.00114 -7.0916,10.62596 -7.6097,6.14763 -34.2494,21.26343 -51.7368,31.77428 l -86.228,53.50971 c -15.8296,9.9237 -40.9381,24.76321 -47.7189,29.88623 -16.2901,12.30677 -30.3583,35.51581 -34.0653,40.81152 -2.3024,3.29255 -10.1309,8.81851 -11.0058,11.32822 -1.0017,2.92414 -0.7023,8.45011 -3.6149,10.51083 -3.4883,2.48668 -5.3418,1.49661 -8.9337,1.55418 -3.0968,0.046 -2.2449,0.75982 -5.5835,1.47359 -2.6594,0.56411 -7.7939,0.24175 -12.3989,-6.15914 z m 7.886,-8.20835">
				</path>
			</svg>

			<!-- MASK IMAGE for Nordschleife-->
			<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="0" height="0">
				<defs>
					<pattern id="mask" patternUnits="userSpaceOnUse" width="1024" height="402">
						<image xlink:href="http://farm9.staticflickr.com/8336/8118375543_01a64cd009_b.jpg" x="0" y="0" width="1024" height="402" />
					</pattern>
				</defs>
			</svg>

		</div>
	</div>

	<!-- jQuery -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>

	<!-- Tween lib -->
	<script src="Tween-min.js"></script>
	
	<!-- Path grow plugin -->
	<script src="jquery-pathGrow-min.js"></script>

	<script>
		$('document').ready(function()
		{
			// Silverstone - Default settings
			var silverstone = $('#silverstone').pathGrow();

			// Nordschleife - Custom settings
			var nordschleife = $('#nordschleife').pathGrow({
				speed: 5,
				stroke: 'url(#mask)',
				fill: false,
				strokeLinecap: 'butt',
				onComplete: function()
				{
					// Enable reset
					$('#reset').attr('disabled', false);

					// Show the filled mask image
					Tween.to({ x: 0 }, { x: 1 }, 0.5, function(vars)
					{ 
						document.getElementById('circuit2').setAttribute('fill-opacity', vars.x);
					});
				},
				onReset: function()
				{
					// Reset to default
					document.getElementById('circuit2').setAttribute('fill-opacity', 0);
					document.getElementById('circuit2').setAttribute('fill', 'url(#mask)');
				}
			});

			// Zandvoort - Custom settings
			var zandvoort = $('#zandvoort').pathGrow({
				speed: 1.5,
				stroke: 'url(#gradient)',
				fill: 'none',
				target: 'circuit',
				strokeWidth: 10,
				strokeLinecap: 'butt'
			});

			// Start animation
			$('#start').on('click', function()
			{
				$('#reset').attr('disabled', true);

				// Call public start
				silverstone.data('pathGrow').start();
				nordschleife.data('pathGrow').start();
				zandvoort.data('pathGrow').start();
			});

			// Reset
			$('#reset').on('click', function()
			{
				// Call public reset
				silverstone.data('pathGrow').reset();
				nordschleife.data('pathGrow').reset();
				zandvoort.data('pathGrow').reset();
			});
		});
	</script>
</body>
</html>